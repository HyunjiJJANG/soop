<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.co.jhta.soop.dao.MemberProjectMemberDAO">
	<!-- 주소록을 위한 프로젝트 멤버 리스트로 가져오기 -->

	<select id="selectAll" resultType="MemberProjectMemberDTO"
		parameterType="int">

		SELECT m.name, m.email, m.profile_path, m.member_no
		FROM member m
		JOIN project_member
		pm ON pm.member_no = m.member_no
		WHERE pm.project_no IN (
		SELECT
		project_no
		FROM project_member
		WHERE member_no = #{member_no}
		) AND
		m.member_no != #{member_no};



	</select>

	<select id="selectOne" resultType="MemberProjectMemberDTO" parameterType="int">

		SELECT * 
		FROM member
		where member_no = #{member_no}


	</select>


</mapper>

