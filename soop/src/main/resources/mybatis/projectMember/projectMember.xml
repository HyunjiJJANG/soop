<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="kr.co.jhta.soop.dao.ProjectTaskMemberDAO">
  
  	<select id="projectByMemberName" resultType="kr.co.jhta.soop.dto.ProjectTaskMemberDTO">
  		SELECT p.project_no, p.project_title, p.project_description, p.project_start_date,
  		p.project_end_Date, p.project_status, p.color, m.member_no, m.name
		FROM project p join task t 
		ON p.project_no = t.project_no
		JOIN member m 
		ON m.member_no = t.member_no
		WHERE m.member_no = #{m.member_no}	
			
  	</select>  
  
  	<select id="myproject_SelectAll" resultType="kr.co.jhta.soop.dto.ProjectTaskMemberDTO" parameterType="int">
  		SELECT p.project_title, m.email, m.name 
		FROM project p join task t 
		ON p.project_no = t.project_no
		JOIN member m 
		ON m.member_no = t.member_no
		WHERE m.member_no= #{member_no} <!-- test로 임의로 설정 --> 	
  	</select>
  </mapper>